{"windowWidth":11790,"windowHeight":34455,"nodes":{"794":{"pins":{"Intersperse String":{},"Input 1":{},"Input 2":{"values":["png-"]},"Input 3":{},"Input 4":{"values":[".png"]},"Input Count":{"values":["4"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (String)","x":5955,"y":6765,"width":"100","height":"100"},"795":{"pins":{"Y Input Value":{"values":["1"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":6510,"y":3570,"width":"0","height":"0"},"796":{"pins":{"X":{},"Y":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (2d Join)","x":6375,"y":1470,"width":"100","height":"100"},"797":{"pins":{"Y Input Value":{"values":["100"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":6375,"y":1080,"width":"0","height":"0"},"798":{"pins":{"Input 1":{},"Input 2":{"values":["1"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":4965,"y":1320,"width":"100","height":"100"},"799":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (Value)","x":5340,"y":2085,"width":"100","height":"100"},"800":{"pins":{"X":{"values":["0"]},"Y":{"values":["0"]},"Z":{"values":["0"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Join)","x":5535,"y":1320,"width":"100","height":"100"},"801":{"pins":{"Y Input Value":{"values":["8"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":5790,"y":3015,"width":"0","height":"0"},"802":{"pins":{"Intersperse String":{},"Input 1":{},"Input 2":{"values":["scene-"]},"Input 3":{},"Input 4":{"values":[".json"]},"Input Count":{"values":["4"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (String)","x":7890,"y":6240,"width":"100","height":"100"},"803":{"pins":{"Input":{},"Bin Size":{},"Index":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"GetSlice (Spreads)","x":4155,"y":6810,"width":"100","height":"100"},"804":{"pins":{"Input 1":{"values":["1"]},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":3945,"y":7215,"width":"100","height":"100"},"805":{"pins":{"Input":{},"Width":{"values":["10"]},"Alignment":{},"Phase":{},"Spread Count":{"values":["10"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"LinearSpread (Spreads)","x":7710,"y":1365,"width":"100","height":"100"},"806":{"pins":{"X":{},"Y":{"values":["0"]},"Z":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Join)","x":7680,"y":2340,"width":"100","height":"100"},"807":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (Value)","x":7500,"y":2850,"width":"100","height":"100"},"808":{"pins":{"X In":{},"Y In":{},"Include Upper":{},"Include Lower":{},"Include Equal":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Cross (2d)","x":7680,"y":1920,"width":"100","height":"100"},"809":{"pins":{"SliceOffset":{},"Input String":{"values":["Terrain/"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":["Folder"],"visible":0}},"nodename":"IOBox (String)","x":2865,"y":1725,"width":"0","height":"0"},"810":{"pins":{"Input":{},"Characters before Comma":{"values":["6"]},"Characters after Comma":{},"Thousands Symbol":{},"Comma Symbol":{},"Leading Zeroes":{"values":["6"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"FormatValue (String)","x":8415,"y":5130,"width":"100","height":"100"},"811":{"pins":{"Y Input Value":{},"Rows":{"values":["3"],"visible":0},"Descriptive Name":{"values":["Cam Pos"],"visible":0}},"nodename":"IOBox (Value Advanced)","x":4920,"y":495,"width":"0","height":"0"},"812":{"pins":{"PositionXYZ":{},"GridResolutionXY":{},"WorldDimensionXY":{},"ViewRadius":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"TerrainGrid (Game)","x":5460,"y":4275,"width":"100","height":"100"},"815":{"pins":{"Maximum Touch Points":{"values":["2"]},"Space":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Mouse (System Global)","x":3840,"y":16155,"width":"100","height":"100"},"816":{"pins":{"X":{},"Y":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (2d Join)","x":3855,"y":16635,"width":"100","height":"100"},"817":{"pins":{"Layers":{},"Clear":{},"Antialiasing":{"values":["1"]},"Background Color":{"values":["0.5220000147819519, 0.5220000147819519, 0.5220000147819519, 1"]},"Backbuffer Width":{},"Backbuffer Height":{},"Parent Element":{},"View":{},"Projection":{},"Windowed Depthbuffer Format":{"values":["DX16"],"visible":0},"Descriptive Name":{"values":["#RendererMain"],"visible":0}},"nodename":"Renderer (EX9)","x":960,"y":22800,"width":"100","height":"100"},"818":{"pins":{"Enabled":{},"Layer 1":{},"Layer 2":{},"Layer 3":{},"Layer 4":{},"Layer 5":{},"Layer 6":{},"Layer Template Count":{"values":["6"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Group (EX9)","x":1650,"y":15180,"width":"100","height":"100"},"819":{"pins":{"Transform In":{},"X":{},"Y":{"values":["1"]},"Z":{"values":["1"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Scale (Transform)","x":1575,"y":20475,"width":"100","height":"100"},"820":{"pins":{"Input":{},"Input 2":{},"Inputs Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Divide (Value)","x":1740,"y":20010,"width":"100","height":"100"},"821":{"pins":{"Transform In":{},"FOV":{"values":["0.2"]},"Near Plane":{"values":["0.05"]},"Far Plane":{"values":["2000"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Perspective (Transform)","x":3769,"y":20871,"width":"100","height":"100"},"822":{"pins":{"Descriptive Name":{"values":[""],"visible":0}},"nodename":"ScreenInfo (Windows)","x":1500,"y":19125,"width":"100","height":"100"},"823":{"pins":{"XY":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (2d Split)","x":1500,"y":19620,"width":"100","height":"100"},"824":{"pins":{"Transform In":{},"X":{"values":["0.25"]},"Y":{"values":["0"]},"Z":{"values":["0"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Rotate (Transform)","x":2670,"y":8490,"width":"100","height":"100"},"825":{"pins":{"MouseXY":{},"ResXY":{},"LB":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"./pad.v4p","x":3495,"y":17205,"width":"100","height":"100","filename":"./pad.v4p"},"827":{"pins":{"Resolution X":{},"Resolution Y":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Grid (EX9.Geometry)","x":2415,"y":10815,"width":"465","height":"270"},"832":{"pins":{"Transform In":{},"ResolutionXY":{},"Zoom":{},"Near Plane":{},"Far Plane":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Ortho (Transform)","x":4035,"y":21435,"width":"100","height":"100"},"833":{"pins":{"moveIn":{},"y":{},"ViewAngleXY":{},"Reset":{"values":["0"]},"InitialXZ":{"values":["0","0"]},"TranslateXZ":{},"Integrate/Pos":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"./camera_isometric.v4p","x":4110,"y":20160,"width":"100","height":"100","filename":"./camera_isometric.v4p"},"834":{"pins":{"Input 1":{},"Input 2":{"values":["100"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":5565,"y":18600,"width":"100","height":"100"},"835":{"pins":{"Switch":{},"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Switch (Node Input)","x":3390,"y":21975,"width":"100","height":"100"},"836":{"pins":{"moveIn":{},"Rotate":{},"y":{},"Reset":{"values":["0"]},"IntitialXZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"./camera_ego.v4p","x":3030,"y":18315,"width":"100","height":"100","filename":"./camera_ego.v4p"},"837":{"pins":{"Y Input Value":{"values":["0"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":2370,"y":20955,"width":"0","height":"0"},"838":{"pins":{"Y Input Value":{"values":["45","30"]},"Rows":{"values":["2"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":4110,"y":19485,"width":"0","height":"0"},"839":{"pins":{"Y Input Value":{"values":["55.8946647644043"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":7965,"y":19245,"width":"0","height":"0"},"840":{"pins":{"Input 1":{},"Input 2":{"values":["10"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":6060,"y":20880,"width":"100","height":"100"},"842":{"pins":{"Transform In":{},"X":{},"Y":{"values":["0"]},"Z":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Translate (Transform)","x":2670,"y":8085,"width":"100","height":"100"},"846":{"pins":{"Render State In":{},"Fill Mode":{"values":["Solid"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Fill (EX9.RenderState)","x":840,"y":10770,"width":"100","height":"100"},"848":{"pins":{"Transform In":{},"XYZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"UniformScale (Transform)","x":2655,"y":8895,"width":"100","height":"100"},"852":{"pins":{"Input":{},"Input 2":{"values":["128"]},"Inputs Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Divide (Value)","x":6495,"y":9015,"width":"100","height":"100"},"853":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Subtract (Value)","x":6165,"y":9495,"width":"100","height":"100"},"854":{"pins":{"Y Input Value":{"values":["1"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0},"Units":{"values":[],"visible":0},"Precision":{"values":[],"visible":0}},"nodename":"IOBox (Value Advanced)","x":6495,"y":8700,"width":"795","height":"240"},"855":{"pins":{"Y Input Value":{"values":["1"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0},"Units":{"values":[],"visible":0},"Precision":{"values":[],"visible":0}},"nodename":"IOBox (Value Advanced)","x":6135,"y":8340,"width":"795","height":"240"},"858":{"pins":{"XYZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Split)","x":2805,"y":7560,"width":"100","height":"100"},"865":{"pins":{"Input 1":{},"Input 2":{"values":["40"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":3525,"y":17730,"width":"100","height":"100"},"867":{"pins":{"Input 1":{},"Input 2":{"values":["-20"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":5700,"y":20895,"width":"100","height":"100"},"868":{"pins":{"Switch":{},"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Switch (Node Input)","x":2550,"y":21990,"width":"100","height":"100"},"872":{"pins":{"Render State":{},"Mesh":{},"Transform":{},"Technique":{},"Texture Transform":{},"Light Direction XYZ":{},"Ambient Color":{"values":["0, 0.4000000059604645, 1, 1","0.800000011920929, 0, 1, 1","1, 0, 0, 1","0.800000011920929, 1, 0, 1","0, 1, 0.4000000059604645, 1"]},"Diffuse Color":{},"Specular Color":{},"Power":{},"Texture":{},"Alpha":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"PhongDirectional (EX9.Effect)","x":10785,"y":12615,"width":"100","height":"100","filename":"%VVVV%/lib/nodes/effects/PhongDirectional.fx"},"873":{"pins":{"Radius":{},"Resolution X":{"values":["8"]},"Resolution Y":{"values":["8"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Sphere (EX9.Geometry)","x":10890,"y":11085,"width":"100","height":"100"},"874":{"pins":{"Transform In":{},"XYZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"UniformScale (Transform)","x":11175,"y":11985,"width":"100","height":"100"},"875":{"pins":{"Transform In":{},"X":{},"Y":{},"Z":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Translate (Transform)","x":11205,"y":10455,"width":"100","height":"100"},"876":{"pins":{"Transform In":{},"X":{},"Y":{"values":["0"]},"Z":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Translate (Transform)","x":11205,"y":9390,"width":"100","height":"100"},"877":{"pins":{"XYZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Split)","x":11490,"y":9825,"width":"100","height":"100"},"878":{"pins":{"Input":{},"Default":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"AvoidNIL (Spreads)","x":11310,"y":8760,"width":"100","height":"100"},"879":{"pins":{"Input":{"values":["2.4600000000000004"]},"Select":{"values":["4"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Select (Value)","x":12360,"y":11640,"width":"100","height":"100"},"881":{"pins":{"Input":{},"Bin Size":{},"Index":{"values":["1"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"GetSlice (Spreads)","x":5865,"y":15510,"width":"100","height":"100"},"882":{"pins":{"Input 1":{},"Default 1":{},"Initialize":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"FrameDelay (Animation)","x":5895,"y":16035,"width":"100","height":"100"},"883":{"pins":{"Input 1":{},"Input 2":{"values":["6"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (Value)","x":5895,"y":16740,"width":"100","height":"100"},"884":{"pins":{"Input 1":{},"Input 2":{"values":["-1"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":5880,"y":17640,"width":"100","height":"100"},"886":{"pins":{"Input":{"values":[""]},"Input 2":{"values":["2"]},"Inputs Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Divide (Value)","x":8925,"y":16575,"width":"100","height":"100"},"887":{"pins":{"Input 1":{},"Default 1":{},"Initialize":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"FrameDelay (Animation)","x":8865,"y":17145,"width":"100","height":"100"},"888":{"pins":{"Input":{},"Default":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"AvoidNIL (Spreads)","x":8805,"y":17580,"width":"100","height":"100"},"892":{"pins":{"Input 1":{},"Input 2":{"values":["-1"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":5910,"y":19350,"width":"100","height":"100"},"893":{"pins":{"X":{},"Y":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (2d Join)","x":5160,"y":19620,"width":"100","height":"100"},"894":{"pins":{"Input 1":{},"Input 2":{"values":["121"]},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Subtract (Value)","x":6915,"y":16845,"width":"100","height":"100"},"895":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Multiply (Value)","x":6015,"y":18750,"width":"100","height":"100"},"896":{"pins":{"Y Input Value":{"values":["175"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":5445,"y":19110,"width":"0","height":"0"},"900":{"pins":{"Switch":{},"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Switch (Value Input)","x":3210,"y":20355,"width":"100","height":"100"},"901":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (Value)","x":10035,"y":18210,"width":"100","height":"100"},"906":{"pins":{"Input 1":{},"Input 2":{},"Input Count":{"values":[2],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Add (Value)","x":11295,"y":8310,"width":"100","height":"100"},"907":{"pins":{"X":{"values":["0"]},"Y":{"values":["3"]},"Z":{"values":["0"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Join)","x":11520,"y":7830,"width":"100","height":"100"},"909":{"pins":{"SliceOffset":{},"Input String":{},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (String)","x":9720,"y":6840,"width":"0","height":"0"},"910":{"pins":{"Y Input Value":{"values":["0"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":2325,"y":6690,"width":"0","height":"0"},"912":{"pins":{"Y Input Value":{},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":3900,"y":8520,"width":"0","height":"0"},"914":{"pins":{"Y Input Value":{},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":11250,"y":7440,"width":"0","height":"0"},"915":{"pins":{"Render State":{},"Mesh":{},"Transform":{},"Technique":{},"Color":{},"Texture":{},"Texture Transform":{},"Alpha":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Constant (EX9.Effect)","x":750,"y":17595,"width":"100","height":"100","filename":"%VVVV%/lib/nodes/effects/Constant.fx"},"916":{"pins":{"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Box (EX9.Geometry)","x":870,"y":16830,"width":"100","height":"100"},"917":{"pins":{"X":{"values":[0]},"Y":{"values":[0]},"Z":{"values":["0"]},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Join)","x":4920,"y":75,"width":"100","height":"100"},"918":{"pins":{"Y Input Value":{"values":["-18"]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":5100,"y":17370,"width":"0","height":"0"},"919":{"pins":{"SliceOffset":{},"Input String":{},"Rows":{"values":["9"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (String)","x":7935,"y":7350,"width":"0","height":"0"},"920":{"pins":{"Effect Descriptor":{"values":["HeightMap2"],"visible":0},"Source Code":{"values":["\nvertex_shader:\n\nattribute vec3 PosO : POSITION;\nattribute vec2 TexCd : TEXCOORD0;\nattribute vec3 NormO : NORMAL;\n\nuniform mat4 Texture_Transform;\nuniform mat4 Texture_Transform_col;\nuniform mat4 tW : WORLD;\nuniform mat4 tV : VIEW;\nuniform mat4 tP : PROJECTION;\n\nuniform vec3 Light_Direction_XYZ = {0.0, -5.0, 2.0};\n\nuniform sampler2D Texture;\nuniform float deformAmount;\nuniform float vertexCount;\n\n\nvarying vec3 LightDirV;\nvarying vec3 NormV;\nvarying vec3 ViewDirV;\nvarying vec2 vs2psTexCd;\nvarying vec2 vs2psTexCd_col;\n\nvec3 deform(vec3 p, float a) {\n  vec3 res = p;\n  res.z -= a;\n  return res;\n}\n\nfloat clampp(float pv, float min, float max) {\n\n  if(pv<min){\n  pv = min;\n  };\n\n  if(pv>max){\n  pv = max;\n  };\n  return pv;\n}\n\nvoid main(void) {\n\n  \nfloat p_min=-0.6;\nfloat p_max=0.6;\nfloat t_min=0.0;\nfloat t_max=1.0;\n\n  mat4 tWV = tV * tW;\n  mat4 tWVP = tP * tWV;\n  \n  float delta = 1.0/vertexCount;\n  \n  vec2 TexCd2 = (Texture_Transform * vec4(TexCd-.5, 0, 1)).xy;\n  TexCd2 += .5;\n\n  vec2 TexCd3 = (Texture_Transform_col * vec4(TexCd-.5, 0, 1)).xy;\n  TexCd3 += .5;\n  \n  vec4 texCol = texture2D(Texture, TexCd2);\n  vec3 PosO2 = deform(PosO, texCol.r*deformAmount);\n\n  float TexCd_right = TexCd2.x+delta;\n  if (TexCd_right > 1.0) {\n  TexCd_right = 1.0;\n  };\n  float TexCd_bottom = TexCd2.y+delta;\n  if (TexCd_bottom > 1.0) {\n  TexCd_bottom = 1.0;\n  };\n  float TexCd_left = TexCd2.x-delta;\n  if (TexCd_left > 1.0) {\n  TexCd_left = 1.0;\n  };\n  float TexCd_top = TexCd2.y-delta;\n  if (TexCd_top > 1.0) {\n  TexCd_top = 1.0;\n  };\n  \n  vec4 texCol_right = texture2D(Texture, vec2(clampp(TexCd2.x+delta, t_min,t_max), TexCd2.y));\n  vec3 p_right = deform(vec3(clampp(PosO.x+delta, -1.0,1.0), PosO.yz), texCol_right.r*deformAmount);\n  \n  vec4 texCol_bottom = texture2D(Texture, vec2(TexCd2.x, clampp(TexCd2.y+delta, t_min,t_max)));\n  vec3 p_bottom = deform(vec3(PosO.x, clampp(PosO.y-delta, p_min,p_max), PosO.z), texCol_right.r*deformAmount);\n  \n  vec4 texCol_left = texture2D(Texture, vec2(clampp(TexCd2.x-delta, t_min,t_max), TexCd2.y));\n  vec3 p_left = deform(vec3(clampp(PosO.x-delta, p_min,p_max), PosO.yz), texCol_left.r*deformAmount);\n  \n  vec4 texCol_top = texture2D(Texture, vec2(TexCd2.x, clampp(TexCd2.y-delta, t_min,t_max)));\n  vec3 p_top = deform(vec3(PosO.x, clampp(PosO.y+delta, p_min,p_max), PosO.z), texCol_top.r*deformAmount);\n  \n  // calculate positions of neighbouring vertices, and get an average/smooth normal\n  vec3 n1 = normalize(cross(p_right-PosO2, p_bottom-PosO2));\n  vec3 n2 = normalize(cross(p_left-PosO2, p_top-PosO2));\n  vec3 n3 = normalize(cross(p_bottom-PosO2, p_left-PosO2));\n  vec3 n4 = normalize(cross(p_top-PosO2, p_right-PosO2));\n  vec3 n = (n1+n2+n3+n4)/4.0;\n  \n  LightDirV = normalize(-1.0*(tV*vec4(Light_Direction_XYZ,1))).xyz;\n  NormV = normalize(tWV * vec4(n, 0)).xyz;\n  \n  vec4 PosV = tWV * vec4(PosO2, 1);\n  ViewDirV = normalize(-PosV).xyz;\n  \n  vs2psTexCd = TexCd2;\n  vs2psTexCd_col = TexCd3;\n  gl_Position = (tWVP * vec4(PosO2, 1.0));\n}\n\n\nfragment_shader:\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec3 LightDirV;\nvarying vec3 NormV;\nvarying vec3 ViewDirV;\nvarying vec2 vs2psTexCd;\nvarying vec2 vs2psTexCd_col;\n\nuniform vec4 Ambient_Color : COLOR = {0.15, 0.15, 0.15, 1.0};\nuniform vec4 Diffuse_Color : COLOR = {0.85, 0.85, 0.85, 1.0};\nuniform vec4 Specular_Color : COLOR = {0.35, 0.35, 0.35, 1.0};\nuniform float Power = 25.0;\nuniform float Alpha = 1.0;\nuniform sampler2D Texture_2;\n\nvoid main(void) {\n  vec3 H = normalize(ViewDirV + LightDirV);\n  \n  vec4 diff = Diffuse_Color * max(dot(NormV, LightDirV), 0.0);\n  \n  //reflection vector (view space)\n  vec3 R = normalize(2.0 * dot(NormV, LightDirV) * NormV - LightDirV);\n  vec3 V = normalize(ViewDirV);\n  \n  vec4 spec = Specular_Color * pow(max(dot(R, V),0.0), Power*.2);\n\n  gl_FragColor = texture2D(Texture_2, vs2psTexCd_col);\n  gl_FragColor.rgb *= Ambient_Color.rgb + diff.rgb + spec.rgb;\n  gl_FragColor.a *= Alpha;\n}"],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"DefineEffect (DX9)","x":780,"y":2700,"width":100,"height":100},"921":{"pins":{"Transform In":{},"XYZ":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"UniformScale (Transform)","x":4860,"y":9975,"width":100,"height":100},"922":{"pins":{"X":{},"Y":{"values":[1.2600000000000007]},"Z":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"Vector (3d Join)","x":3750,"y":10185,"width":100,"height":100},"923":{"pins":{"Y Input Value":{"values":[126]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":780,"y":9090,"width":0,"height":0},"925":{"pins":{"Filename":{},"Type":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"FileTexture (EX9.Texture)","x":5940,"y":7620,"width":100,"height":100},"926":{"pins":{"Y Input Value":{"values":[1]},"Rows":{"values":[1],"visible":0},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"IOBox (Value Advanced)","x":3090,"y":11535,"width":0,"height":0},"932":{"pins":{"Render State":{},"Mesh":{},"Transform":{},"Technique":{},"Texture Transform":{},"Texture Transform col":{},"Light Direction XYZ":{},"Texture":{},"deformAmount":{},"vertexCount":{},"Ambient Color":{},"Diffuse Color":{},"Specular Color":{},"Power":{},"Alpha":{},"Texture 2":{},"Descriptive Name":{"values":[""],"visible":0}},"nodename":"HeightMap2 (EX9.Effect)","x":1080,"y":12225,"width":100,"height":100,"filename":"./HeightMap2.fx"}},"links":[{"srcnodeid":"809","srcpinname":"Output String","dstnodeid":"794","dstpinname":"Input 1"},{"srcnodeid":"810","srcpinname":"Output","dstnodeid":"794","dstpinname":"Input 3"},{"srcnodeid":"797","srcpinname":"Y Output Value","dstnodeid":"796","dstpinname":"X"},{"srcnodeid":"797","srcpinname":"Y Output Value","dstnodeid":"796","dstpinname":"Y"},{"srcnodeid":"811","srcpinname":"Y Output Value","dstnodeid":"798","dstpinname":"Input 1"},{"srcnodeid":"798","srcpinname":"Output","dstnodeid":"799","dstpinname":"Input 1"},{"srcnodeid":"800","srcpinname":"XYZ","dstnodeid":"799","dstpinname":"Input 2"},{"srcnodeid":"809","srcpinname":"Output String","dstnodeid":"802","dstpinname":"Input 1"},{"srcnodeid":"810","srcpinname":"Output","dstnodeid":"802","dstpinname":"Input 3"},{"srcnodeid":"803","srcpinname":"Output","dstnodeid":"804","dstpinname":"Input 2"},{"srcnodeid":"808","srcpinname":"X Out","dstnodeid":"806","dstpinname":"X"},{"srcnodeid":"808","srcpinname":"Y Out","dstnodeid":"806","dstpinname":"Z"},{"srcnodeid":"799","srcpinname":"Output","dstnodeid":"807","dstpinname":"Input 1"},{"srcnodeid":"806","srcpinname":"XYZ","dstnodeid":"807","dstpinname":"Input 2"},{"srcnodeid":"805","srcpinname":"Output","dstnodeid":"808","dstpinname":"X In"},{"srcnodeid":"805","srcpinname":"Output","dstnodeid":"808","dstpinname":"Y In"},{"srcnodeid":"799","srcpinname":"Output","dstnodeid":"812","dstpinname":"PositionXYZ"},{"srcnodeid":"801","srcpinname":"Y Output Value","dstnodeid":"812","dstpinname":"GridResolutionXY"},{"srcnodeid":"796","srcpinname":"XY","dstnodeid":"812","dstpinname":"WorldDimensionXY"},{"srcnodeid":"795","srcpinname":"Y Output Value","dstnodeid":"812","dstpinname":"ViewRadius"},{"srcnodeid":"815","srcpinname":"X","dstnodeid":"816","dstpinname":"X"},{"srcnodeid":"815","srcpinname":"Y","dstnodeid":"816","dstpinname":"Y"},{"srcnodeid":"823","srcpinname":"X","dstnodeid":"817","dstpinname":"Backbuffer Width"},{"srcnodeid":"823","srcpinname":"Y","dstnodeid":"817","dstpinname":"Backbuffer Height"},{"srcnodeid":"820","srcpinname":"Output","dstnodeid":"819","dstpinname":"X"},{"srcnodeid":"823","srcpinname":"Y","dstnodeid":"820","dstpinname":"Input"},{"srcnodeid":"823","srcpinname":"X","dstnodeid":"820","dstpinname":"Input 2"},{"srcnodeid":"819","srcpinname":"Transform Out","dstnodeid":"821","dstpinname":"Transform In"},{"srcnodeid":"822","srcpinname":"ResolutionXY","dstnodeid":"823","dstpinname":"XY"},{"srcnodeid":"816","srcpinname":"XY","dstnodeid":"825","dstpinname":"MouseXY"},{"srcnodeid":"822","srcpinname":"ResolutionXY","dstnodeid":"825","dstpinname":"ResXY"},{"srcnodeid":"815","srcpinname":"Left Button","dstnodeid":"825","dstpinname":"LB"},{"srcnodeid":"812","srcpinname":"GridIndex","dstnodeid":"810","dstpinname":"Input"},{"srcnodeid":"812","srcpinname":"GridScaleXZ","dstnodeid":"803","dstpinname":"Input"},{"srcnodeid":"818","srcpinname":"Layer","dstnodeid":"817","dstpinname":"Layers"},{"srcnodeid":"819","srcpinname":"Transform Out","dstnodeid":"832","dstpinname":"Transform In"},{"srcnodeid":"822","srcpinname":"ResolutionXY","dstnodeid":"832","dstpinname":"ResolutionXY"},{"srcnodeid":"835","srcpinname":"Output","dstnodeid":"817","dstpinname":"Projection"},{"srcnodeid":"834","srcpinname":"Output","dstnodeid":"833","dstpinname":"moveIn"},{"srcnodeid":"825","srcpinname":"Lpad","dstnodeid":"834","dstpinname":"Input 1"},{"srcnodeid":"821","srcpinname":"Transform Out","dstnodeid":"835","dstpinname":"Input 1"},{"srcnodeid":"832","srcpinname":"Transform Out","dstnodeid":"835","dstpinname":"Input 2"},{"srcnodeid":"825","srcpinname":"Rpad","dstnodeid":"836","dstpinname":"Rotate"},{"srcnodeid":"868","srcpinname":"Output","dstnodeid":"817","dstpinname":"View"},{"srcnodeid":"872","srcpinname":"Layer","dstnodeid":"818","dstpinname":"Layer 6"},{"srcnodeid":"842","srcpinname":"Transform Out","dstnodeid":"824","dstpinname":"Transform In"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"832","dstpinname":"Zoom"},{"srcnodeid":"867","srcpinname":"Output","dstnodeid":"832","dstpinname":"Near Plane"},{"srcnodeid":"840","srcpinname":"Output","dstnodeid":"832","dstpinname":"Far Plane"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"833","dstpinname":"y"},{"srcnodeid":"838","srcpinname":"Y Output Value","dstnodeid":"833","dstpinname":"ViewAngleXY"},{"srcnodeid":"893","srcpinname":"XY","dstnodeid":"833","dstpinname":"TranslateXZ"},{"srcnodeid":"837","srcpinname":"Y Output Value","dstnodeid":"835","dstpinname":"Switch"},{"srcnodeid":"865","srcpinname":"Output","dstnodeid":"836","dstpinname":"moveIn"},{"srcnodeid":"888","srcpinname":"Output","dstnodeid":"836","dstpinname":"IntitialXZ"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"840","dstpinname":"Input 1"},{"srcnodeid":"858","srcpinname":"X","dstnodeid":"842","dstpinname":"X"},{"srcnodeid":"858","srcpinname":"Z","dstnodeid":"842","dstpinname":"Z"},{"srcnodeid":"824","srcpinname":"Transform Out","dstnodeid":"848","dstpinname":"Transform In"},{"srcnodeid":"854","srcpinname":"Y Output Value","dstnodeid":"852","dstpinname":"Input"},{"srcnodeid":"855","srcpinname":"Y Output Value","dstnodeid":"853","dstpinname":"Input 1"},{"srcnodeid":"852","srcpinname":"Output","dstnodeid":"853","dstpinname":"Input 2"},{"srcnodeid":"825","srcpinname":"Lpad","dstnodeid":"865","dstpinname":"Input 1"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"867","dstpinname":"Input 1"},{"srcnodeid":"837","srcpinname":"Y Output Value","dstnodeid":"868","dstpinname":"Switch"},{"srcnodeid":"836","srcpinname":"View","dstnodeid":"868","dstpinname":"Input 1"},{"srcnodeid":"833","srcpinname":"View","dstnodeid":"868","dstpinname":"Input 2"},{"srcnodeid":"873","srcpinname":"Mesh","dstnodeid":"872","dstpinname":"Mesh"},{"srcnodeid":"874","srcpinname":"Transform Out","dstnodeid":"872","dstpinname":"Transform"},{"srcnodeid":"875","srcpinname":"Transform Out","dstnodeid":"874","dstpinname":"Transform In"},{"srcnodeid":"879","srcpinname":"Output","dstnodeid":"874","dstpinname":"XYZ"},{"srcnodeid":"876","srcpinname":"Transform Out","dstnodeid":"875","dstpinname":"Transform In"},{"srcnodeid":"877","srcpinname":"X","dstnodeid":"875","dstpinname":"X"},{"srcnodeid":"877","srcpinname":"Y","dstnodeid":"875","dstpinname":"Y"},{"srcnodeid":"877","srcpinname":"Z","dstnodeid":"875","dstpinname":"Z"},{"srcnodeid":"878","srcpinname":"Output","dstnodeid":"877","dstpinname":"XYZ"},{"srcnodeid":"906","srcpinname":"Output","dstnodeid":"878","dstpinname":"Input"},{"srcnodeid":"878","srcpinname":"Output","dstnodeid":"881","dstpinname":"Input"},{"srcnodeid":"881","srcpinname":"Output","dstnodeid":"882","dstpinname":"Input 1"},{"srcnodeid":"882","srcpinname":"Output 1","dstnodeid":"883","dstpinname":"Input 1"},{"srcnodeid":"883","srcpinname":"Output","dstnodeid":"884","dstpinname":"Input 1"},{"srcnodeid":"886","srcpinname":"Output","dstnodeid":"887","dstpinname":"Input 1"},{"srcnodeid":"887","srcpinname":"Output 1","dstnodeid":"888","dstpinname":"Input"},{"srcnodeid":"896","srcpinname":"Y Output Value","dstnodeid":"892","dstpinname":"Input 1"},{"srcnodeid":"896","srcpinname":"Y Output Value","dstnodeid":"893","dstpinname":"X"},{"srcnodeid":"892","srcpinname":"Output","dstnodeid":"893","dstpinname":"Y"},{"srcnodeid":"882","srcpinname":"Output 1","dstnodeid":"894","dstpinname":"Input 1"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"895","dstpinname":"Input 1"},{"srcnodeid":"839","srcpinname":"Y Output Value","dstnodeid":"895","dstpinname":"Input 2"},{"srcnodeid":"837","srcpinname":"Y Output Value","dstnodeid":"900","dstpinname":"Switch"},{"srcnodeid":"836","srcpinname":"Translation","dstnodeid":"900","dstpinname":"Input 1"},{"srcnodeid":"833","srcpinname":"Translation","dstnodeid":"900","dstpinname":"Input 2"},{"srcnodeid":"888","srcpinname":"Output","dstnodeid":"901","dstpinname":"Input 1"},{"srcnodeid":"907","srcpinname":"XYZ","dstnodeid":"906","dstpinname":"Input 2"},{"srcnodeid":"802","srcpinname":"Output","dstnodeid":"909","dstpinname":"Input String"},{"srcnodeid":"912","srcpinname":"Y Output Value","dstnodeid":"848","dstpinname":"XYZ"},{"srcnodeid":"812","srcpinname":"GridXYZ","dstnodeid":"858","dstpinname":"XYZ"},{"srcnodeid":"804","srcpinname":"Output","dstnodeid":"912","dstpinname":"Y Input Value"},{"srcnodeid":"914","srcpinname":"Y Output Value","dstnodeid":"906","dstpinname":"Input 1"},{"srcnodeid":"916","srcpinname":"Mesh","dstnodeid":"915","dstpinname":"Mesh"},{"srcnodeid":"917","srcpinname":"XYZ","dstnodeid":"811","dstpinname":"Y Input Value"},{"srcnodeid":"918","srcpinname":"Y Output Value","dstnodeid":"836","dstpinname":"y"},{"srcnodeid":"794","srcpinname":"Output","dstnodeid":"919","dstpinname":"Input String"},{"srcnodeid":"853","srcpinname":"Output","dstnodeid":"921","dstpinname":"XYZ"},{"srcnodeid":"923","srcpinname":"Y Output Value","dstnodeid":"827","dstpinname":"Resolution X"},{"srcnodeid":"923","srcpinname":"Y Output Value","dstnodeid":"827","dstpinname":"Resolution Y"},{"srcnodeid":"923","srcpinname":"Y Output Value","dstnodeid":"830","dstpinname":"vertexCount"},{"srcnodeid":"794","srcpinname":"Output","dstnodeid":"925","dstpinname":"Filename"},{"srcnodeid":"925","srcpinname":"Texture Out","dstnodeid":"830","dstpinname":"Texture"},{"srcnodeid":"848","srcpinname":"Transform Out","dstnodeid":"932","dstpinname":"Transform"},{"srcnodeid":"827","srcpinname":"Mesh","dstnodeid":"932","dstpinname":"Mesh"},{"srcnodeid":"923","srcpinname":"Y Output Value","dstnodeid":"932","dstpinname":"vertexCount"},{"srcnodeid":"926","srcpinname":"Y Output Value","dstnodeid":"932","dstpinname":"deformAmount"},{"srcnodeid":"922","srcpinname":"XYZ","dstnodeid":"932","dstpinname":"Light Direction XYZ"},{"srcnodeid":"921","srcpinname":"Transform Out","dstnodeid":"932","dstpinname":"Texture Transform"},{"srcnodeid":"925","srcpinname":"Texture Out","dstnodeid":"932","dstpinname":"Texture"},{"srcnodeid":"932","srcpinname":"Layer","dstnodeid":"818","dstpinname":"Layer 1"},{"srcnodeid":"846","srcpinname":"Render State Out","dstnodeid":"932","dstpinname":"Render State"}],"nodename":"patches/root_DynamicTerrain.v4p","left":0,"top":0}